<?php

namespace AppBundle\Repository;

/**
 * MessagesRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class MessagesRepository extends \Doctrine\ORM\EntityRepository
{
    public function getmessages($id)
    {
        $q=$this->getEntityManager()->createQuery("SELECT p from AppBundle:Messages p JOIN p.jardin b where b.responsable.id=:id 
        GROUP BY p.parent")
            ->setParameter('id',$id);
        return $query=$q->getResult();

    }
}
